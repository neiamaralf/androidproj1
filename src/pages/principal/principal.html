<ion-header>
    <new-navbar></new-navbar>
</ion-header>

<ion-content #con1 padding>
    <ion-list-header *ngIf="!hasabaaberta" text-left style="color: black" color="cor2">
        MENU PRINCIPAL
    </ion-list-header>

    <ion-list *ngFor="let item of items" (click)="itemTapped($event, item)">

        <ion-list-header text-left style="color: black" [color]="item.cor==4? 'cor4': 'cor1'">
            {{item.title}}
            <span item-right style="color: white">{{
                item.id==1&&item.show?(ts.dadosUsuario.tipo==0?"USUÁRIO":(ts.dadosUsuario.tipo==1)?"PONTO DE VENDA":(ts.dadosUsuario.tipo==2)?"PRODUTOR":"ADMINISTRADOR"):""
                }}</span>

            <button *ngIf="item.title=='CERTIFICADORAS'" ion-button color="light" icon-only item-right clear (click)="novacert($event,item)">                 
                  <ion-icon  name="add-circle" item-right></ion-icon>
                </button>
            <ion-icon *ngIf="item.show" name="arrow-dropdown" item-right></ion-icon>
            <ion-icon *ngIf="!item.show" name="arrow-dropright" item-right></ion-icon>
        </ion-list-header>
        <ion-grid *ngIf="item.show&&item.id==1&&ts.dadosUsuario.tipo!=0">
            <ion-row justify-content-center>
                <ion-col col-6>
                    <button style="color:#F5811E" ion-button block outline color="light" item-center (click)="obterCodigo(item)">
                       OBTER CÓDIGO 
                    </button>
                </ion-col>
                <ion-col col-6>
                    <button style="color:white" ion-button block color="cor1" item-center (click)="enviarDoc(item)">
                       ENVIAR DOC
                    </button>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-6>
                    <button style="color:white" ion-button block color="cor1" item-center (click)="mensagens(item)">
                       MENSAGENS
                    </button>
                </ion-col>
                <ion-col col-6>
                    <button style="color:#F5811E" ion-button block outline color="light" item-center (click)="promocoes(item)">
                       PROMOÇÕES
                    </button>
                </ion-col>
            </ion-row>
        </ion-grid>
        <ion-list *ngFor="let menuitem of item.menuitems" style="background-color: white">
            <ion-list-header *ngIf="item.show" text-left style="color: white" color="cor2" (click)="itemTapped($event, item)">
                {{menuitem.title}}
                <button *ngIf="item.title=='CERTIFICADORAS'" ion-button item-right color="light" icon-only clear (click)="deleteEntry(menuitem)">
                  <ion-icon name="trash" ></ion-icon>
                </button>
                <button *ngIf="menuitem.tipo!=1||item.title!='MEU BIOATEST'" ion-button color="light" icon-only small item-right clear (click)="menuitemclick(item,menuitem)">
                 <ion-icon name="create"   item-right></ion-icon>
                </button>
                <p color="light" *ngIf="menuitem.tipo==1" item-right>{{menuitem.title}} </p>

                <button *ngIf="item.title!='CERTIFICADORAS'" ion-button color="light" icon-only small item-right clear (click)="showhideclick($event,menuitem)">                 
                 <ion-icon *ngIf="menuitem.showdados" name="arrow-dropdown" item-right></ion-icon>
                 <ion-icon *ngIf="!menuitem.showdados" name="arrow-dropright" item-right></ion-icon>
                </button>
            </ion-list-header>
            <ion-list no-lines *ngIf="menuitem.showdados&&item.show&&(item.id==1&&menuitem.tipo==0)" style="background-color: white">
                <ion-item>NOME: {{ts.dadosUsuario.nome}}</ion-item>
                <ion-item>EMAIL: {{ts.dadosUsuario.email}}</ion-item>
                <ion-item text-wrap>ENDEREÇO: {{ts.dadosUsuario.endereco}},{{ts.dadosUsuario.numero}} {{ts.dadosUsuario.cidade}}-{{ts.dadosUsuario.estado}}</ion-item>
                <ion-item> FONE: {{ts.dadosUsuario.fone}}</ion-item>
            </ion-list>
        </ion-list>
    </ion-list>
    <div *ngIf="selectedItem" padding>
        You navigated here from <b>{{selectedItem.title}}</b>
    </div>
</ion-content>
<ion-footer>
    <page-rodape></page-rodape>
</ion-footer>